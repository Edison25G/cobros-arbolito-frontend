<div class="mb-5">
	<h2 class="text-2xl font-semibold text-gray-800">Reporte General</h2>
	<p class="text-sm text-gray-500">Resumen de la actividad y recaudación del sistema.</p>
</div>

<div class="grid grid-cols-1 lg:grid-cols-4 gap-5">
	<div class="lg:col-span-4">
		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
			<ng-container *ngIf="isLoading">
				<p-skeleton height="9rem" styleClass="card shadow-md border-0 rounded-lg"></p-skeleton>
				<p-skeleton height="9rem" styleClass="card shadow-md border-0 rounded-lg"></p-skeleton>
				<p-skeleton height="9rem" styleClass="card shadow-md border-0 rounded-lg"></p-skeleton>
				<p-skeleton height="9rem" styleClass="card shadow-md border-0 rounded-lg"></p-skeleton>
			</ng-container>

			<ng-container *ngIf="!isLoading && reporteData">
				<p-card styleClass="shadow-md border-0 rounded-lg">
					<div class="flex items-center gap-4">
						<i class="pi pi-users text-3xl text-blue-500 p-3 bg-blue-100 rounded-full"></i>
						<div>
							<span class="text-sm text-gray-500">Socios Activos</span>
							<p class="text-2xl font-bold text-gray-800">{{ reporteData.sociosActivos }}</p>
						</div>
					</div>
				</p-card>

				<p-card styleClass="shadow-md border-0 rounded-lg">
					<div class="flex items-center gap-4">
						<i class="pi pi-exclamation-triangle text-3xl text-red-500 p-3 bg-red-100 rounded-full"></i>
						<div>
							<span class="text-sm text-gray-500">Socios en Mora</span>
							<p class="text-2xl font-bold text-gray-800">{{ reporteData.sociosEnMora }}</p>
						</div>
					</div>
				</p-card>

				<p-card styleClass="shadow-md border-0 rounded-lg">
					<div class="flex items-center gap-4">
						<i class="pi pi-dollar text-3xl text-green-500 p-3 bg-green-100 rounded-full"></i>
						<div>
							<span class="text-sm text-gray-500">Recaudado (Mes)</span>
							<p class="text-2xl font-bold text-gray-800">
								{{ reporteData.totalRecaudadoMes | currency: 'USD' }}
							</p>
						</div>
					</div>
				</p-card>

				<p-card styleClass="shadow-md border-0 rounded-lg">
					<div class="flex items-center gap-4">
						<i class="pi pi-wallet text-3xl text-orange-500 p-3 bg-orange-100 rounded-full"></i>
						<div>
							<span class="text-sm text-gray-500">Deuda Total</span>
							<p class="text-2xl font-bold text-gray-800">
								{{ reporteData.totalDeuda | currency: 'USD' }}
							</p>
						</div>
					</div>
				</p-card>
			</ng-container>
		</div>
	</div>

	<div class="lg:col-span-4">
		<div class="card shadow-md border-0 rounded-lg p-5">
			<h3 class="text-lg font-semibold text-gray-700 mb-3">Recaudación (Últimos 6 Meses)</h3>

			<p-skeleton *ngIf="isLoading" height="24rem"></p-skeleton>

			<p-chart
				*ngIf="!isLoading && barChartData"
				type="bar"
				[data]="barChartData"
				[options]="barChartOptions"
				height="24rem"
			></p-chart>
		</div>
	</div>
</div>
