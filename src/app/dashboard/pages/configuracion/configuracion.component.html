<p-card styleClass="shadow-md border-0 rounded-lg lg:max-w-4xl mx-auto">
	<ng-template pTemplate="header">
		<div class="p-4 bg-gray-50 rounded-t-lg">
			<h2 class="text-2xl font-semibold text-gray-800">Configuración del Sistema</h2>
			<p class="text-sm text-gray-500">Ajusta los parámetros maestros y tarifas de la junta.</p>
		</div>
	</ng-template>

	<div *ngIf="isLoadingData; else formView" class="p-4">
		<div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5">
			<div class="md:col-span-2"><p-skeleton height="3.5rem"></p-skeleton></div>
			<div><p-skeleton height="3.5rem"></p-skeleton></div>
			<div><p-skeleton height="3.5rem"></p-skeleton></div>
			<div class="md:col-span-2"><p-skeleton height="3.5rem"></p-skeleton></div>
			<div><p-skeleton height="3.5rem"></p-skeleton></div>
			<div>
				<p-skeleton height="3.5rem"></p-skeleton>
			</div>
		</div>
	</div>

	<ng-template #formView>
		<form [formGroup]="configForm" (ngSubmit)="guardarConfiguracion()">
			<div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5 p-4">
				<div class="md:col-span-2">
					<label for="nombreJunta" class="block text-sm font-medium text-gray-700 mb-1">Nombre de la Junta</label>
					<input pInputText id="nombreJunta" formControlName="nombreJunta" class="w-full" />
				</div>

				<div>
					<label for="ruc" class="block text-sm font-medium text-gray-700 mb-1">RUC</label>
					<p-inputMask id="ruc" formControlName="ruc" mask="9999999999001" styleClass="w-full"></p-inputMask>
				</div>

				<div>
					<label for="telefono" class="block text-sm font-medium text-gray-700 mb-1">Teléfono</label>
					<p-inputMask
						id="telefono"
						formControlName="telefono"
						mask="9999999999"
						placeholder="0991234567"
						styleClass="w-full"
					></p-inputMask>
				</div>

				<div class="md:col-span-2">
					<label for="direccion" class="block text-sm font-medium text-gray-700 mb-1">Dirección</label>
					<input pInputText id="direccion" formControlName="direccion" class="w-full" />
				</div>

				<div class="md:col-span-2">
					<label for="email" class="block text-sm font-medium text-gray-700 mb-1">Correo Electrónico</label>
					<input pInputText type="email" id="email" formControlName="email" class="w-full" />
				</div>

				<div class="md:col-span-2 border-t border-gray-200 mt-2 pt-4">
					<h3 class="text-lg font-medium text-gray-900">Tarifas y Valores</h3>
				</div>

				<div>
					<label for="tarifaAgua" class="block text-sm font-medium text-gray-700 mb-1">Tarifa Agua (por m³)</label>
					<p-inputNumber
						id="tarifaAgua"
						formControlName="tarifaAguaMetroCubico"
						mode="currency"
						currency="USD"
						locale="en-US"
						styleClass="w-full"
						class="w-full"
					></p-inputNumber>
				</div>

				<div>
					<label for="tarifaMora" class="block text-sm font-medium text-gray-700 mb-1">Tarifa Mora (Mensual)</label>
					<p-inputNumber
						id="tarifaMora"
						formControlName="tarifaMoraMensual"
						mode="currency"
						currency="USD"
						locale="en-US"
						styleClass="w-full"
						class="w-full"
					></p-inputNumber>
				</div>

				<div>
					<label for="iva" class="block text-sm font-medium text-gray-700 mb-1">Valor IVA (%)</label>
					<p-inputNumber
						id="iva"
						formControlName="valorIVA"
						mode="decimal"
						[minFractionDigits]="2"
						[maxFractionDigits]="2"
						placeholder="Ej: 0.15"
						suffix=" (15%)"
						styleClass="w-full"
						class="w-full"
					></p-inputNumber>
				</div>
			</div>

			<div class="border-t border-gray-200 p-4 mt-4 flex justify-end">
				<p-button
					type="submit"
					label="Guardar Cambios"
					icon="pi pi-save"
					styleClass="p-button-success"
					[loading]="isSaving"
					[disabled]="configForm.invalid || isSaving"
				></p-button>
			</div>
		</form>
	</ng-template>
</p-card>
