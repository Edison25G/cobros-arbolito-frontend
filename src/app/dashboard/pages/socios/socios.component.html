<div class="card shadow-md border-0 rounded-lg">
	<div class="flex items-center justify-between gap-4 mb-5 p-4 bg-gray-50 rounded-t-lg">
		<div>
			<h2 class="text-2xl font-semibold text-gray-800">Gestión de Socios</h2>
			<p class="text-sm text-gray-500">Administra los clientes y socios de la junta.</p>
		</div>
		<p-button (click)="crearSocio()" label="Nuevo Socio" icon="pi pi-plus" styleClass="p-button-success"></p-button>
	</div>

	<p-table
		[value]="socios"
		[loading]="isLoading"
		[paginator]="true"
		[rows]="5"
		[rowsPerPageOptions]="[5, 10, 20]"
		styleClass="p-datatable-striped"
		responsiveLayout="scroll"
	>
		<ng-template pTemplate="header">
			<tr>
				<th pSortableColumn="nombre">Nombre <p-sortIcon field="nombre"></p-sortIcon></th>
				<th pSortableColumn="cedula">Cédula <p-sortIcon field="cedula"></p-sortIcon></th>
				<th>Contacto</th>
				<th pSortableColumn="estado">Estado <p-sortIcon field="estado"></p-sortIcon></th>
				<th class="text-center">Acciones</th>
			</tr>
		</ng-template>

		<ng-template pTemplate="body" let-socio>
			<tr>
				<td>{{ socio.nombre | titlecase }} {{ socio.apellido | titlecase }}</td>
				<td>{{ socio.cedula }}</td>
				<td>
					<div class="flex flex-col">
						<span class="font-medium">{{ socio.email }}</span>
						<span class="text-sm text-gray-600">{{ socio.telefono }}</span>
					</div>
				</td>
				<td>
					<p-tag
						[ngSwitch]="socio.estado"
						[severity]="socio.estado === 'Al día' ? 'success' : socio.estado === 'En mora' ? 'danger' : 'warn'"
					>
						<span *ngSwitchCase="'Al día'">{{ socio.estado }}</span>
						<span *ngSwitchCase="'En mora'">{{ socio.estado }}</span>
						<span *ngSwitchCase="'Inactivo'">{{ socio.estado }}</span>
					</p-tag>
				</td>
				<td>
					<div class="flex justify-center gap-2">
						<button
							pButton
							pRipple
							pTooltip="Editar socio"
							tooltipPosition="top"
							(click)="editarSocio(socio)"
							aria-label="Editar socio"
							class="p-button-rounded p-button-text p-button-warning p-button-icon-only"
						>
							<span pButtonIcon class="pi pi-pencil"></span>
						</button>

						<button
							pButton
							pRipple
							pTooltip="Eliminar socio"
							tooltipPosition="top"
							(click)="eliminarSocio(socio)"
							aria-label="Eliminar socio"
							class="p-button-rounded p-button-text p-button-danger p-button-icon-only"
						>
							<span pButtonIcon class="pi pi-trash"></span>
						</button>
					</div>
				</td>
			</tr>
		</ng-template>

		<ng-template pTemplate="emptymessage">
			<tr>
				<td colspan="5" class="text-center">No se encontraron socios.</td>
			</tr>
		</ng-template>
	</p-table>
</div>
